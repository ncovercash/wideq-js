"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const device_1 = require("../core/device");
const utils_1 = require("../utils");
/**
 * The state of the washer device.
 */
var WasherState;
(function (WasherState) {
    WasherState["ADD_DRAIN"] = "@WM_STATE_ADD_DRAIN_W";
    WasherState["COMPLETE"] = "@WM_STATE_COMPLETE_W";
    WasherState["DETECTING"] = "@WM_STATE_DETECTING_W";
    WasherState["DETERGENT_AMOUNT"] = "@WM_STATE_DETERGENT_AMOUNT_W";
    WasherState["DRYING"] = "@WM_STATE_DRYING_W";
    WasherState["END"] = "@WM_STATE_END_W";
    WasherState["ERROR_AUTO_OFF"] = "@WM_STATE_ERROR_AUTO_OFF_W";
    WasherState["FRESH_CARE"] = "@WM_STATE_FRESHCARE_W";
    WasherState["FROZEN_PREVENT_INITIAL"] = "@WM_STATE_FROZEN_PREVENT_INITIAL_W";
    WasherState["FROZEN_PREVENT_PAUSE"] = "@WM_STATE_FROZEN_PREVENT_PAUSE_W";
    WasherState["FROZEN_PREVENT_RUNNING"] = "@WM_STATE_FROZEN_PREVENT_RUNNING_W";
    WasherState["INITIAL"] = "@WM_STATE_INITIAL_W";
    WasherState["OFF"] = "@WM_STATE_POWER_OFF_W";
    WasherState["PAUSE"] = "@WM_STATE_PAUSE_W";
    WasherState["PRE_WASH"] = "@WM_STATE_PREWASH_W";
    WasherState["RESERVE"] = "@WM_STATE_RESERVE_W";
    WasherState["RINSING"] = "@WM_STATE_RINSING_W";
    WasherState["RINSE_HOLD"] = "@WM_STATE_RINSE_HOLD_W";
    WasherState["RUNNING"] = "@WM_STATE_RUNNING_W";
    WasherState["SMART_DIAGNOSIS"] = "@WM_STATE_SMART_DIAG_W";
    WasherState["SMART_DIAGNOSIS_DATA"] = "@WM_STATE_SMART_DIAGDATA_W";
    WasherState["SPINNING"] = "@WM_STATE_SPINNING_W";
    WasherState["TCL_ALARM_NORMAL"] = "TCL_ALARM_NORMAL";
    WasherState["TUBCLEAN_COUNT_ALARM"] = "@WM_STATE_TUBCLEAN_COUNT_ALRAM_W";
})(WasherState = exports.WasherState || (exports.WasherState = {}));
class WasherDevice extends device_1.Device {
    poll() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.monitor) {
                return null;
            }
            const resp = yield this.monitor.poll();
            if (resp) {
                const data = this.model.decodeMonitor(resp);
                return new WasherStatus(this, data);
            }
            return null;
        });
    }
    setOn(isOn) {
        return __awaiter(this, void 0, void 0, function* () {
            const value = isOn ? 'On' : 'Off';
            yield this.setControl('Power', value);
        });
    }
}
exports.WasherDevice = WasherDevice;
class WasherStatus {
    constructor(device, data) {
        this.device = device;
        this.data = data;
    }
    get state() {
        const key = utils_1.lookupEnum('State', this.data, this.device);
        return utils_1.asEnum(WasherState, key);
    }
    get stateText() {
        return utils_1.lookupEnumLang('State', this.data, this.device);
    }
    get previousState() {
        const key = utils_1.lookupEnum('PreState', this.data, this.device);
        return utils_1.asEnum(WasherState, key);
    }
    get previousStateText() {
        return utils_1.lookupEnumLang('PreState', this.data, this.device);
    }
    get isOn() {
        return this.state !== WasherState.OFF;
    }
    get isRemoteStart() {
        const key = utils_1.lookupEnum('RemoteStart', this.data, this.device);
        return utils_1.asEnum(device_1.OnOffEnum, key) === device_1.OnOffEnum.ON;
    }
    get isChildLock() {
        const key = utils_1.lookupEnum('ChildLock', this.data, this.device);
        return utils_1.asEnum(device_1.OnOffEnum, key) === device_1.OnOffEnum.ON;
    }
    get remainingTime() {
        return utils_1.asTime('Remain_Time_H', 'Remain_Time_M', this.data);
    }
    get initialTime() {
        return utils_1.asTime('Initial_Time_H', 'Initial_Time_M', this.data);
    }
    get reserveTime() {
        return utils_1.asTime('Reserve_Time_H', 'Reserve_Time_M', this.data);
    }
    get course() {
        const value = utils_1.lookupReference('Course', this.data, this.device);
        return value;
    }
    get smartCourse() {
        const value = utils_1.lookupReference('SmartCourse', this.data, this.device);
        return value;
    }
    get error() {
        const value = utils_1.lookupReference('Error', this.data, this.device);
        return value;
    }
}
exports.WasherStatus = WasherStatus;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FzaGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2RldmljZXMvd2FzaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwyQ0FBbUQ7QUFDbkQsb0NBQXVGO0FBRXZGOztHQUVHO0FBQ0gsSUFBWSxXQXlCWDtBQXpCRCxXQUFZLFdBQVc7SUFDckIsa0RBQW1DLENBQUE7SUFDbkMsZ0RBQWlDLENBQUE7SUFDakMsa0RBQW1DLENBQUE7SUFDbkMsZ0VBQWlELENBQUE7SUFDakQsNENBQTZCLENBQUE7SUFDN0Isc0NBQXVCLENBQUE7SUFDdkIsNERBQTZDLENBQUE7SUFDN0MsbURBQW9DLENBQUE7SUFDcEMsNEVBQTZELENBQUE7SUFDN0Qsd0VBQXlELENBQUE7SUFDekQsNEVBQTZELENBQUE7SUFDN0QsOENBQStCLENBQUE7SUFDL0IsNENBQTZCLENBQUE7SUFDN0IsMENBQTJCLENBQUE7SUFDM0IsK0NBQWdDLENBQUE7SUFDaEMsOENBQStCLENBQUE7SUFDL0IsOENBQStCLENBQUE7SUFDL0Isb0RBQXFDLENBQUE7SUFDckMsOENBQStCLENBQUE7SUFDL0IseURBQTBDLENBQUE7SUFDMUMsa0VBQW1ELENBQUE7SUFDbkQsZ0RBQWlDLENBQUE7SUFDakMsb0RBQXFDLENBQUE7SUFDckMsd0VBQXlELENBQUE7QUFDM0QsQ0FBQyxFQXpCVyxXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQXlCdEI7QUFFRCxNQUFhLFlBQWEsU0FBUSxlQUFNO0lBQ3pCLElBQUk7O1lBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ2pCLE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdkMsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFh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TUFBTSxLQUFLLEdBQUcsdUJBQWUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckUsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ2QsTUFBTSxLQUFLLEdBQUcsdUJBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0Y7QUFoRUQsb0NBZ0VDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGV2aWNlLCBPbk9mZkVudW0gfSBmcm9tICcuLi9jb3JlL2RldmljZSc7XG5pbXBvcnQgeyBhc0VudW0sIGFzVGltZSwgbG9va3VwRW51bSwgbG9va3VwRW51bUxhbmcsIGxvb2t1cFJlZmVyZW5jZSB9IGZyb20gJy4uL3V0aWxzJztcblxuLyoqXG4gKiBUaGUgc3RhdGUgb2YgdGhlIHdhc2hlciBkZXZpY2UuXG4gKi9cbmV4cG9ydCBlbnVtIFdhc2hlclN0YXRlIHtcbiAgQUREX0RSQUlOID0gJ0BXTV9TVEFURV9BRERfRFJBSU5fVycsXG4gIENPTVBMRVRFID0gJ0BXTV9TVEFURV9DT01QTEVURV9XJyxcbiAgREVURUNUSU5HID0gJ0BXTV9TVEFURV9ERVRFQ1RJTkdfVycsXG4gIERFVEVSR0VOVF9BTU9VTlQgPSAnQFdNX1NUQVRFX0RFVEVSR0VOVF9BTU9VTlRfVycsXG4gIERSWUlORyA9ICdAV01fU1RBVEVfRFJZSU5HX1cnLFxuICBFTkQgPSAnQFdNX1NUQVRFX0VORF9XJyxcbiAgRVJST1JfQVVUT19PRkYgPSAnQFdNX1NUQVRFX0VSUk9SX0FVVE9fT0ZGX1cnLFxuICBGUkVTSF9DQVJFID0gJ0BXTV9TVEFURV9GUkVTSENBUkVfVycsXG4gIEZST1pFTl9QUkVWRU5UX0lOSVRJQUwgPSAnQFdNX1NUQVRFX0ZST1pFTl9QUkVWRU5UX0lOSVRJQUxfVycsXG4gIEZST1pFTl9QUkVWRU5UX1BBVVNFID0gJ0BXTV9TVEFURV9GUk9aRU5fUFJFVkVOVF9QQVVTRV9XJyxcbiAgRlJPWkVOX1BSRVZFTlRfUlVOTklORyA9ICdAV01fU1RBVEVfRlJPWkVOX1BSRVZFTlRfUlVOTklOR19XJyxcbiAgSU5JVElBTCA9ICdAV01fU1RBVEVfSU5JVElBTF9XJyxcbiAgT0ZGID0gJ0BXTV9TVEFURV9QT1dFUl9PRkZfVycsXG4gIFBBVVNFID0gJ0BXTV9TVEFURV9QQVVTRV9XJyxcbiAgUFJFX1dBU0ggPSAnQFdNX1NUQVRFX1BSRVdBU0hfVycsXG4gIFJFU0VSVkUgPSAnQFdNX1NUQVRFX1JFU0VSVkVfVycsXG4gIFJJTlNJTkcgPSAnQFdNX1NUQVRFX1JJTlNJTkdfVycsXG4gIFJJTlNFX0hPTEQgPSAnQFdNX1NUQVRFX1JJTlNFX0hPTERfVycsXG4gIFJVTk5JTkcgPSAnQFdNX1NUQVRFX1JVTk5JTkdfVycsXG4gIFNNQVJUX0RJQUdOT1NJUyA9ICdAV01fU1RBVEVfU01BUlRfRElBR19XJyxcbiAgU01BUlRfRElBR05PU0lTX0RBVEEgPSAnQFdNX1NUQVRFX1NNQVJUX0RJQUdEQVRBX1cnLFxuICBTUElOTklORyA9ICdAV01fU1RBVEVfU1BJTk5JTkdfVycsXG4gIFRDTF9BTEFSTV9OT1JNQUwgPSAnVENMX0FMQVJNX05PUk1BTCcsXG4gIFRVQkNMRUFOX0NPVU5UX0FMQVJNID0gJ0BXTV9TVEFURV9UVUJDTEVBTl9DT1VOVF9BTFJBTV9XJyxcbn1cblxuZXhwb3J0IGNsYXNzIFdhc2hlckRldmljZSBleHRlbmRzIERldmljZSB7XG4gIHB1YmxpYyBhc3luYyBwb2xsKCkge1xuICAgIGlmICghdGhpcy5tb25pdG9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy5tb25pdG9yLnBvbGwoKTtcbiAgICBpZiAocmVzcCkge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMubW9kZWwuZGVjb2RlTW9uaXRvcihyZXNwKTtcbiAgICAgIHJldHVybiBuZXcgV2FzaGVyU3RhdHVzKHRoaXMsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNldE9uKGlzT246IGJvb2xlYW4pIHtcbiAgICBjb25zdCB2YWx1ZSA9IGlzT24gPyAnT24nIDogJ09mZic7XG4gICAgYXdhaXQgdGhpcy5zZXRDb250cm9sKCdQb3dlcicsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgV2FzaGVyU3RhdHVzIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBkZXZpY2U6IFdhc2hlckRldmljZSxcbiAgICBwdWJsaWMgZGF0YTogYW55LFxuICApIHsgfVxuXG4gIHB1YmxpYyBnZXQgc3RhdGUoKSB7XG4gICAgY29uc3Qga2V5ID0gbG9va3VwRW51bSgnU3RhdGUnLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKFdhc2hlclN0YXRlLCBrZXkpO1xuICB9XG5cbiAgcHVibGljIGdldCBzdGF0ZVRleHQoKSB7XG4gICAgcmV0dXJuIGxvb2t1cEVudW1MYW5nKCdTdGF0ZScsIHRoaXMuZGF0YSwgdGhpcy5kZXZpY2UpO1xuICB9XG5cbiAgcHVibGljIGdldCBwcmV2aW91c1N0YXRlKCkge1xuICAgIGNvbnN0IGtleSA9IGxvb2t1cEVudW0oJ1ByZVN0YXRlJywgdGhpcy5kYXRhLCB0aGlzLmRldmljZSk7XG4gICAgcmV0dXJuIGFzRW51bShXYXNoZXJTdGF0ZSwga2V5KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcHJldmlvdXNTdGF0ZVRleHQoKSB7XG4gICAgcmV0dXJuIGxvb2t1cEVudW1MYW5nKCdQcmVTdGF0ZScsIHRoaXMuZGF0YSwgdGhpcy5kZXZpY2UpO1xuICB9XG5cbiAgcHVibGljIGdldCBpc09uKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlICE9PSBXYXNoZXJTdGF0ZS5PRkY7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzUmVtb3RlU3RhcnQoKSB7XG4gICAgY29uc3Qga2V5ID0gbG9va3VwRW51bSgnUmVtb3RlU3RhcnQnLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKE9uT2ZmRW51bSwga2V5KSA9PT0gT25PZmZFbnVtLk9OO1xuICB9XG5cbiAgcHVibGljIGdldCBpc0NoaWxkTG9jaygpIHtcbiAgICBjb25zdCBrZXkgPSBsb29rdXBFbnVtKCdDaGlsZExvY2snLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKE9uT2ZmRW51bSwga2V5KSA9PT0gT25PZmZFbnVtLk9OO1xuICB9XG5cbiAgcHVibGljIGdldCByZW1haW5pbmdUaW1lKCkge1xuICAgIHJldHVybiBhc1RpbWUoJ1JlbWFpbl9UaW1lX0gnLCAnUmVtYWluX1RpbWVfTScsIHRoaXMuZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGluaXRpYWxUaW1lKCkge1xuICAgIHJldHVybiBhc1RpbWUoJ0luaXRpYWxfVGltZV9IJywgJ0luaXRpYWxfVGltZV9NJywgdGhpcy5kYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcmVzZXJ2ZVRpbWUoKSB7XG4gICAgcmV0dXJuIGFzVGltZSgnUmVzZXJ2ZV9UaW1lX0gnLCAnUmVzZXJ2ZV9UaW1lX00nLCB0aGlzLmRhdGEpO1xuICB9XG5cbiAgcHVibGljIGdldCBjb3Vyc2UoKSB7XG4gICAgY29uc3QgdmFsdWUgPSBsb29rdXBSZWZlcmVuY2UoJ0NvdXJzZScsIHRoaXMuZGF0YSwgdGhpcy5kZXZpY2UpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgc21hcnRDb3Vyc2UoKSB7XG4gICAgY29uc3QgdmFsdWUgPSBsb29rdXBSZWZlcmVuY2UoJ1NtYXJ0Q291cnNlJywgdGhpcy5kYXRhLCB0aGlzLmRldmljZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcHVibGljIGdldCBlcnJvcigpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGxvb2t1cFJlZmVyZW5jZSgnRXJyb3InLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbiJdfQ==