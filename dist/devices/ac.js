"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const device_1 = require("../core/device");
const utils_1 = require("../utils");
/**
 * The vertical swing mode for an AC/HVAC device.
 *
 * Blades are numbered vertically from 1 (topmost) to 6.
 * All is 100.
 */
var ACVSwingMode;
(function (ACVSwingMode) {
    ACVSwingMode["OFF"] = "@OFF";
    ACVSwingMode["ONE"] = "@1";
    ACVSwingMode["TWO"] = "@2";
    ACVSwingMode["THREE"] = "@3";
    ACVSwingMode["FOUR"] = "@4";
    ACVSwingMode["FIVE"] = "@5";
    ACVSwingMode["SIX"] = "@6";
    ACVSwingMode["ALL"] = "@100";
})(ACVSwingMode = exports.ACVSwingMode || (exports.ACVSwingMode = {}));
/**
 * The horizontal swing mode for an AC/HVAC device.
 *
 * Blades are numbered horizontally from 1 (leftmost) to 5.
 *
 * Left half goes from 1 - 3, and right half goes from 3 - 5.
 *
 * All is 100.
 */
var ACHSwingMode;
(function (ACHSwingMode) {
    ACHSwingMode["OFF"] = "@OFF";
    ACHSwingMode["ONE"] = "@1";
    ACHSwingMode["TWO"] = "@2";
    ACHSwingMode["THREE"] = "@3";
    ACHSwingMode["FOUR"] = "@4";
    ACHSwingMode["FIVE"] = "@5";
    ACHSwingMode["LEFT_HALF"] = "@13";
    ACHSwingMode["RIGHT_HALF"] = "@35";
    ACHSwingMode["ALL"] = "@100";
})(ACHSwingMode = exports.ACHSwingMode || (exports.ACHSwingMode = {}));
/**
 * The operation mode for an AC/HVAC device.
 */
var ACMode;
(function (ACMode) {
    ACMode["COOL"] = "@AC_MAIN_OPERATION_MODE_COOL_W";
    ACMode["DRY"] = "@AC_MAIN_OPERATION_MODE_DRY_W";
    ACMode["FAN"] = "@AC_MAIN_OPERATION_MODE_FAN_W";
    ACMode["AI"] = "@AC_MAIN_OPERATION_MODE_AI_W";
    ACMode["HEAT"] = "@AC_MAIN_OPERATION_MODE_HEAT_W";
    ACMode["AIRCLEAN"] = "@AC_MAIN_OPERATION_MODE_AIRCLEAN_W";
    ACMode["ACO"] = "@AC_MAIN_OPERATION_MODE_ACO_W";
    ACMode["AROMA"] = "@AC_MAIN_OPERATION_MODE_AROMA_W";
    ACMode["ENERGY_SAVING"] = "@AC_MAIN_OPERATION_MODE_ENERGY_SAVING_W";
    ACMode["ENERGY_SAVER"] = "@AC_MAIN_OPERATION_MODE_ENERGY_SAVER_W";
})(ACMode = exports.ACMode || (exports.ACMode = {}));
/**
 * The fan speed for an AC/HVAC device.
 */
var ACFanSpeed;
(function (ACFanSpeed) {
    ACFanSpeed["SLOW"] = "@AC_MAIN_WIND_STRENGTH_SLOW_W";
    ACFanSpeed["SLOW_LOW"] = "@AC_MAIN_WIND_STRENGTH_SLOW_LOW_W";
    ACFanSpeed["LOW"] = "@AC_MAIN_WIND_STRENGTH_LOW_W";
    ACFanSpeed["LOW_MID"] = "@AC_MAIN_WIND_STRENGTH_LOW_MID_W";
    ACFanSpeed["MID"] = "@AC_MAIN_WIND_STRENGTH_MID_W";
    ACFanSpeed["MID_HIGH"] = "@AC_MAIN_WIND_STRENGTH_MID_HIGH_W";
    ACFanSpeed["HIGH"] = "@AC_MAIN_WIND_STRENGTH_HIGH_W";
    ACFanSpeed["POWER"] = "@AC_MAIN_WIND_STRENGTH_POWER_W";
    ACFanSpeed["AUTO"] = "@AC_MAIN_WIND_STRENGTH_AUTO_W";
})(ACFanSpeed = exports.ACFanSpeed || (exports.ACFanSpeed = {}));
/**
 * Whether a device is on or off.
 */
var ACOperation;
(function (ACOperation) {
    ACOperation["OFF"] = "@AC_MAIN_OPERATION_OFF_W";
    /** This one seems to mean "on" ? */
    ACOperation["RIGHT_ON"] = "@AC_MAIN_OPERATION_RIGHT_ON_W";
    ACOperation["LEFT_ON"] = "@AC_MAIN_OPERATION_LEFT_ON_W";
    ACOperation["ALL_ON"] = "@AC_MAIN_OPERATION_ALL_ON_W";
})(ACOperation = exports.ACOperation || (exports.ACOperation = {}));
class ACDevice extends device_1.Device {
    get f2c() {
        const mapping = this.model.value('TempFahToCel');
        if (mapping) {
            if (mapping.type === 'Enum') {
                return Object.entries(mapping.options).reduce((obj, [f, c]) => (Object.assign({}, obj, { [Number(f)]: c })), {});
            }
        }
        return {};
    }
    get c2f() {
        const mapping = this.model.value('TempCelToFah');
        const out = {};
        if (mapping) {
            if (mapping.type === 'Enum') {
                return Object.entries(mapping.options).reduce((obj, [f, c]) => (Object.assign({}, obj, { [Number(f)]: c })), {});
            }
        }
        return out;
    }
    setCelsius(c) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.setControl('TempCfg', c);
        });
    }
    setFahrenheit(f) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.setCelsius(this.f2c[f]);
        });
    }
    /**
     * Turn off or on the device's zones.
     *
     * The `zones` parameter is a list of dicts with these keys:
     * - "No": The zone index. A string containing a number,
     *   starting from 1.
     * - "Cfg": Whether the zone is enabled. A string, either "1" or
     *   "0".
     * - "State": Whether the zone is open. Also "1" or "0".
     */
    setZones(zones) {
        return __awaiter(this, void 0, void 0, function* () {
            const onCount = zones.reduce((accum, zone) => accum + Number(zone), 0);
            if (onCount > 0) {
                const zoneCmd = zones.filter((zone) => zone.Cfg === '1').map((zone) => `${zone.No}_${zone.State}`).join('/');
                yield this.setControl('DuctZone', zoneCmd);
            }
        });
    }
    getZones() {
        return __awaiter(this, void 0, void 0, function* () {
            return this.getConfig('DuctZone');
        });
    }
    setFanSpeed(speed) {
        return __awaiter(this, void 0, void 0, function* () {
            const speedValue = this.model.enumValue('WindStrength', speed);
            yield this.setControl('WindStrength', speedValue);
        });
    }
    setHorizontalSwing(swing) {
        return __awaiter(this, void 0, void 0, function* () {
            const swingValue = this.model.enumValue('WDirHStep', swing);
            yield this.setControl('WDirHStep', swingValue);
        });
    }
    setVerticalSwing(swing) {
        return __awaiter(this, void 0, void 0, function* () {
            const swingValue = this.model.enumValue('WDirVStep', swing);
            yield this.setControl('WDirVStep', swingValue);
        });
    }
    setMode(mode) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.setControl('OpMode', mode);
        });
    }
    setOn(isOn) {
        return __awaiter(this, void 0, void 0, function* () {
            const op = isOn ? ACOperation.RIGHT_ON : ACOperation.OFF;
            const opValue = this.model.enumValue('OpMode', op);
            yield this.setControl('OpMode', opValue);
        });
    }
    getFilterState() {
        return __awaiter(this, void 0, void 0, function* () {
            return this.getConfig('Filter');
        });
    }
    getMFilterState() {
        return __awaiter(this, void 0, void 0, function* () {
            return this.getConfig('MFilter');
        });
    }
    getEnergyTarget() {
        return __awaiter(this, void 0, void 0, function* () {
            return this.getConfig('EnergyDesiredValue');
        });
    }
    getLight() {
        return __awaiter(this, void 0, void 0, function* () {
            const value = yield this.getControl('DisplayControl');
            return value === '0';
        });
    }
    getVolume() {
        return __awaiter(this, void 0, void 0, function* () {
            const value = this.getControl('SpkVolume');
            return Number(value);
        });
    }
    poll() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.monitor) {
                return null;
            }
            const resp = yield this.monitor.poll();
            if (resp) {
                const data = this.model.decodeMonitor(resp);
                return new ACStatus(this, data);
            }
            return null;
        });
    }
}
exports.ACDevice = ACDevice;
class ACStatus {
    constructor(device, data) {
        this.device = device;
        this.data = data;
    }
    get currentTempInCelsius() {
        return Number(this.data.TempCur);
    }
    get currentTempInFahrenheit() {
        return Number(this.device.c2f[this.currentTempInCelsius]);
    }
    get targetTempInCelsius() {
        return Number(this.data.TempCfg);
    }
    get targetTempInFahrenheit() {
        return Number(this.device.c2f[this.targetTempInCelsius]);
    }
    get mode() {
        const key = utils_1.lookupEnum('OpMode', this.data, this.device);
        return utils_1.asEnum(ACMode, key);
    }
    get fanSpeed() {
        const key = utils_1.lookupEnum('WindStrength', this.data, this.device);
        return utils_1.asEnum(ACFanSpeed, key);
    }
    get horizontalSwing() {
        const key = utils_1.lookupEnum('WDirHStep', this.data, this.device);
        return utils_1.asEnum(ACHSwingMode, key);
    }
    get verticalSwing() {
        const key = utils_1.lookupEnum('WDirVStep', this.data, this.device);
        return utils_1.asEnum(ACVSwingMode, key);
    }
    get isOn() {
        const key = utils_1.lookupEnum('Operation', this.data, this.device);
        return utils_1.asEnum(ACOperation, key) !== ACOperation.OFF;
    }
}
exports.ACStatus = ACStatus;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvZGV2aWNlcy9hYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQXdDO0FBQ3hDLG9DQUE4QztBQUM5Qzs7Ozs7R0FLRztBQUNILElBQVksWUFTWDtBQVRELFdBQVksWUFBWTtJQUN0Qiw0QkFBWSxDQUFBO0lBQ1osMEJBQVUsQ0FBQTtJQUNWLDBCQUFVLENBQUE7SUFDViw0QkFBWSxDQUFBO0lBQ1osMkJBQVcsQ0FBQTtJQUNYLDJCQUFXLENBQUE7SUFDWCwwQkFBVSxDQUFBO0lBQ1YsNEJBQVksQ0FBQTtBQUNkLENBQUMsRUFUVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQVN2QjtBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsSUFBWSxZQVVYO0FBVkQsV0FBWSxZQUFZO0lBQ3RCLDRCQUFZLENBQUE7SUFDWiwwQkFBVSxDQUFBO0lBQ1YsMEJBQVUsQ0FBQTtJQUNWLDRCQUFZLENBQUE7SUFDWiwyQkFBVyxDQUFBO0lBQ1gsMkJBQVcsQ0FBQTtJQUNYLGlDQUFpQixDQUFBO0lBQ2pCLGtDQUFrQixDQUFBO0lBQ2xCLDRCQUFZLENBQUE7QUFDZCxDQUFDLEVBVlcsWUFBWSxHQUFaLG9CQUFZLEtBQVosb0JBQVksUUFVdkI7QUFFRDs7R0FFRztBQUNILElBQVksTUFXWDtBQVhELFdBQVksTUFBTTtJQUNoQixpREFBdUMsQ0FBQTtJQUN2QywrQ0FBcUMsQ0FBQTtJQUNyQywrQ0FBcUMsQ0FBQTtJQUNyQyw2Q0FBbUMsQ0FBQTtJQUNuQyxpREFBdUMsQ0FBQTtJQUN2Qyx5REFBK0MsQ0FBQTtJQUMvQywrQ0FBcUMsQ0FBQTtJQUNyQyxtREFBeUMsQ0FBQTtJQUN6QyxtRUFBeUQsQ0FBQTtJQUN6RCxpRUFBdUQsQ0FBQTtBQUN6RCxDQUFDLEVBWFcsTUFBTSxHQUFOLGNBQU0sS0FBTixjQUFNLFFBV2pCO0FBRUQ7O0dBRUc7QUFDSCxJQUFZLFVBVVg7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QVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUQsT0FBTyxjQUFNLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDdEIsTUFBTSxHQUFHLEdBQUcsa0JBQVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUQsT0FBTyxjQUFNLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDYixNQUFNLEdBQUcsR0FBRyxrQkFBVSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1RCxPQUFPLGNBQU0sQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLEtBQUssV0FBVyxDQUFDLEdBQUcsQ0FBQztJQUN0RCxDQUFDO0NBQ0Y7QUE5Q0QsNEJBOENDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGV2aWNlIH0gZnJvbSAnLi4vY29yZS9kZXZpY2UnO1xuaW1wb3J0IHsgYXNFbnVtLCBsb29rdXBFbnVtIH0gZnJvbSAnLi4vdXRpbHMnO1xuLyoqXG4gKiBUaGUgdmVydGljYWwgc3dpbmcgbW9kZSBmb3IgYW4gQUMvSFZBQyBkZXZpY2UuXG4gKlxuICogQmxhZGVzIGFyZSBudW1iZXJlZCB2ZXJ0aWNhbGx5IGZyb20gMSAodG9wbW9zdCkgdG8gNi5cbiAqIEFsbCBpcyAxMDAuXG4gKi9cbmV4cG9ydCBlbnVtIEFDVlN3aW5nTW9kZSB7XG4gIE9GRiA9ICdAT0ZGJyxcbiAgT05FID0gJ0AxJyxcbiAgVFdPID0gJ0AyJyxcbiAgVEhSRUUgPSAnQDMnLFxuICBGT1VSID0gJ0A0JyxcbiAgRklWRSA9ICdANScsXG4gIFNJWCA9ICdANicsXG4gIEFMTCA9ICdAMTAwJyxcbn1cblxuLyoqXG4gKiBUaGUgaG9yaXpvbnRhbCBzd2luZyBtb2RlIGZvciBhbiBBQy9IVkFDIGRldmljZS5cbiAqXG4gKiBCbGFkZXMgYXJlIG51bWJlcmVkIGhvcml6b250YWxseSBmcm9tIDEgKGxlZnRtb3N0KSB0byA1LlxuICpcbiAqIExlZnQgaGFsZiBnb2VzIGZyb20gMSAtIDMsIGFuZCByaWdodCBoYWxmIGdvZXMgZnJvbSAzIC0gNS5cbiAqXG4gKiBBbGwgaXMgMTAwLlxuICovXG5leHBvcnQgZW51bSBBQ0hTd2luZ01vZGUge1xuICBPRkYgPSAnQE9GRicsXG4gIE9ORSA9ICdAMScsXG4gIFRXTyA9ICdAMicsXG4gIFRIUkVFID0gJ0AzJyxcbiAgRk9VUiA9ICdANCcsXG4gIEZJVkUgPSAnQDUnLFxuICBMRUZUX0hBTEYgPSAnQDEzJyxcbiAgUklHSFRfSEFMRiA9ICdAMzUnLFxuICBBTEwgPSAnQDEwMCcsXG59XG5cbi8qKlxuICogVGhlIG9wZXJhdGlvbiBtb2RlIGZvciBhbiBBQy9IVkFDIGRldmljZS5cbiAqL1xuZXhwb3J0IGVudW0gQUNNb2RlIHtcbiAgQ09PTCA9ICdAQUNfTUFJTl9PUEVSQVRJT05fTU9ERV9DT09MX1cnLFxuICBEUlkgPSAnQEFDX01BSU5fT1BFUkFUSU9OX01PREVfRFJZX1cnLFxuICBGQU4gPSAnQEFDX01BSU5fT1BFUkFUSU9OX01PREVfRkFOX1cnLFxuICBBSSA9ICdAQUNfTUFJTl9PUEVSQVRJT05fTU9ERV9BSV9XJyxcbiAgSEVBVCA9ICdAQUNfTUFJTl9PUEVSQVRJT05fTU9ERV9IRUFUX1cnLFxuICBBSVJDTEVBTiA9ICdAQUNfTUFJTl9PUEVSQVRJT05fTU9ERV9BSVJDTEVBTl9XJyxcbiAgQUNPID0gJ0BBQ19NQUlOX09QRVJBVElPTl9NT0RFX0FDT19XJyxcbiAgQVJPTUEgPSAnQEFDX01BSU5fT1BFUkFUSU9OX01PREVfQVJPTUFfVycsXG4gIEVORVJHWV9TQVZJTkcgPSAnQEFDX01BSU5fT1BFUkFUSU9OX01PREVfRU5FUkdZX1NBVklOR19XJyxcbiAgRU5FUkdZX1NBVkVSID0gJ0BBQ19NQUlOX09QRVJBVElPTl9NT0RFX0VORVJHWV9TQVZFUl9XJyxcbn1cblxuLyoqXG4gKiBUaGUgZmFuIHNwZWVkIGZvciBhbiBBQy9IVkFDIGRldmljZS5cbiAqL1xuZXhwb3J0IGVudW0gQUNGYW5TcGVlZCB7XG4gIFNMT1cgPSAnQEFDX01BSU5fV0lORF9TVFJFTkdUSF9TTE9XX1cnLFxuICBTTE9XX0xPVyA9ICdAQUNfTUFJTl9XSU5EX1NUUkVOR1RIX1NMT1dfTE9XX1cnLFxuICBMT1cgPSAnQEFDX01BSU5fV0lORF9TVFJFTkdUSF9MT1dfVycsXG4gIExPV19NSUQgPSAnQEFDX01BSU5fV0lORF9TVFJFTkdUSF9MT1dfTUlEX1cnLFxuICBNSUQgPSAnQEFDX01BSU5fV0lORF9TVFJFTkdUSF9NSURfVycsXG4gIE1JRF9ISUdIID0gJ0BBQ19NQUlOX1dJTkRfU1RSRU5HVEhfTUlEX0hJR0hfVycsXG4gIEhJR0ggPSAnQEFDX01BSU5fV0lORF9TVFJFTkdUSF9ISUdIX1cnLFxuICBQT1dFUiA9ICdAQUNfTUFJTl9XSU5EX1NUUkVOR1RIX1BPV0VSX1cnLFxuICBBVVRPID0gJ0BBQ19NQUlOX1dJTkRfU1RSRU5HVEhfQVVUT19XJyxcbn1cblxuLyoqXG4gKiBXaGV0aGVyIGEgZGV2aWNlIGlzIG9uIG9yIG9mZi5cbiAqL1xuZXhwb3J0IGVudW0gQUNPcGVyYXRpb24ge1xuICBPRkYgPSAnQEFDX01BSU5fT1BFUkFUSU9OX09GRl9XJyxcbiAgLyoqIFRoaXMgb25lIHNlZW1zIHRvIG1lYW4gXCJvblwiID8gKi9cbiAgUklHSFRfT04gPSAnQEFDX01BSU5fT1BFUkFUSU9OX1JJR0hUX09OX1cnLFxuICBMRUZUX09OID0gJ0BBQ19NQUlOX09QRVJBVElPTl9MRUZUX09OX1cnLFxuICBBTExfT04gPSAnQEFDX01BSU5fT1BFUkFUSU9OX0FMTF9PTl9XJyxcbn1cblxuZXhwb3J0IGNsYXNzIEFDRGV2aWNlIGV4dGVuZHMgRGV2aWNlIHtcbiAgcHVibGljIGdldCBmMmMoKTogYW55IHtcbiAgICBjb25zdCBtYXBwaW5nID0gdGhpcy5tb2RlbC52YWx1ZSgnVGVtcEZhaFRvQ2VsJyk7XG4gICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLnR5cGUgPT09ICdFbnVtJykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMobWFwcGluZy5vcHRpb25zKS5yZWR1Y2UoKG9iaiwgW2YsIGNdKSA9PiAoe1xuICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICBbTnVtYmVyKGYpXTogYyxcbiAgICAgICAgIH0pLCB7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgcHVibGljIGdldCBjMmYoKTogYW55IHtcbiAgICBjb25zdCBtYXBwaW5nID0gdGhpcy5tb2RlbC52YWx1ZSgnVGVtcENlbFRvRmFoJyk7XG4gICAgY29uc3Qgb3V0ID0ge307XG4gICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLnR5cGUgPT09ICdFbnVtJykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMobWFwcGluZy5vcHRpb25zKS5yZWR1Y2UoKG9iaiwgW2YsIGNdKSA9PiAoe1xuICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICBbTnVtYmVyKGYpXTogYyxcbiAgICAgICAgIH0pLCB7fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZXRDZWxzaXVzKGM6IGFueSkge1xuICAgIGF3YWl0IHRoaXMuc2V0Q29udHJvbCgnVGVtcENmZycsIGMpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNldEZhaHJlbmhlaXQoZjogYW55KSB7XG4gICAgYXdhaXQgdGhpcy5zZXRDZWxzaXVzKHRoaXMuZjJjW2ZdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUdXJuIG9mZiBvciBvbiB0aGUgZGV2aWNlJ3Mgem9uZXMuXG4gICAqXG4gICAqIFRoZSBgem9uZXNgIHBhcmFtZXRlciBpcyBhIGxpc3Qgb2YgZGljdHMgd2l0aCB0aGVzZSBrZXlzOlxuICAgKiAtIFwiTm9cIjogVGhlIHpvbmUgaW5kZXguIEEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIsXG4gICAqICAgc3RhcnRpbmcgZnJvbSAxLlxuICAgKiAtIFwiQ2ZnXCI6IFdoZXRoZXIgdGhlIHpvbmUgaXMgZW5hYmxlZC4gQSBzdHJpbmcsIGVpdGhlciBcIjFcIiBvclxuICAgKiAgIFwiMFwiLlxuICAgKiAtIFwiU3RhdGVcIjogV2hldGhlciB0aGUgem9uZSBpcyBvcGVuLiBBbHNvIFwiMVwiIG9yIFwiMFwiLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHNldFpvbmVzKHpvbmVzOiBhbnkpIHtcbiAgICBjb25zdCBvbkNvdW50OiBudW1iZXIgPSB6b25lcy5yZWR1Y2UoKGFjY3VtOiBudW1iZXIsIHpvbmU6IGFueSkgPT4gYWNjdW0gKyBOdW1iZXIoem9uZSksIDApO1xuICAgIGlmIChvbkNvdW50ID4gMCkge1xuICAgICAgY29uc3Qgem9uZUNtZCA9IHpvbmVzLmZpbHRlcigoem9uZTogYW55KSA9PiB6b25lLkNmZyA9PT0gJzEnKS5tYXAoKHpvbmU6IGFueSkgPT4gYCR7em9uZS5Ob31fJHt6b25lLlN0YXRlfWApLmpvaW4oJy8nKTtcbiAgICAgIGF3YWl0IHRoaXMuc2V0Q29udHJvbCgnRHVjdFpvbmUnLCB6b25lQ21kKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZ2V0Wm9uZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29uZmlnKCdEdWN0Wm9uZScpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNldEZhblNwZWVkKHNwZWVkOiBBQ0ZhblNwZWVkKSB7XG4gICAgY29uc3Qgc3BlZWRWYWx1ZSA9IHRoaXMubW9kZWwuZW51bVZhbHVlKCdXaW5kU3RyZW5ndGgnLCBzcGVlZCk7XG4gICAgYXdhaXQgdGhpcy5zZXRDb250cm9sKCdXaW5kU3RyZW5ndGgnLCBzcGVlZFZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZXRIb3Jpem9udGFsU3dpbmcoc3dpbmc6IEFDSFN3aW5nTW9kZSkge1xuICAgIGNvbnN0IHN3aW5nVmFsdWUgPSB0aGlzLm1vZGVsLmVudW1WYWx1ZSgnV0RpckhTdGVwJywgc3dpbmcpO1xuICAgIGF3YWl0IHRoaXMuc2V0Q29udHJvbCgnV0RpckhTdGVwJywgc3dpbmdWYWx1ZSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2V0VmVydGljYWxTd2luZyhzd2luZzogQUNWU3dpbmdNb2RlKSB7XG4gICAgY29uc3Qgc3dpbmdWYWx1ZSA9IHRoaXMubW9kZWwuZW51bVZhbHVlKCdXRGlyVlN0ZXAnLCBzd2luZyk7XG4gICAgYXdhaXQgdGhpcy5zZXRDb250cm9sKCdXRGlyVlN0ZXAnLCBzd2luZ1ZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZXRNb2RlKG1vZGU6IEFDTW9kZSkge1xuICAgIGF3YWl0IHRoaXMuc2V0Q29udHJvbCgnT3BNb2RlJywgbW9kZSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2V0T24oaXNPbjogYm9vbGVhbikge1xuICAgIGNvbnN0IG9wID0gaXNPbiA/IEFDT3BlcmF0aW9uLlJJR0hUX09OIDogQUNPcGVyYXRpb24uT0ZGO1xuICAgIGNvbnN0IG9wVmFsdWUgPSB0aGlzLm1vZGVsLmVudW1WYWx1ZSgnT3BNb2RlJywgb3ApO1xuXG4gICAgYXdhaXQgdGhpcy5zZXRDb250cm9sKCdPcE1vZGUnLCBvcFZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRGaWx0ZXJTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb25maWcoJ0ZpbHRlcicpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldE1GaWx0ZXJTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb25maWcoJ01GaWx0ZXInKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRFbmVyZ3lUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29uZmlnKCdFbmVyZ3lEZXNpcmVkVmFsdWUnKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRMaWdodCgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRoaXMuZ2V0Q29udHJvbCgnRGlzcGxheUNvbnRyb2wnKTtcbiAgICByZXR1cm4gdmFsdWUgPT09ICcwJztcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBnZXRWb2x1bWUoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldENvbnRyb2woJ1Nwa1ZvbHVtZScpO1xuICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHBvbGwoKSB7XG4gICAgaWYgKCF0aGlzLm1vbml0b3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLm1vbml0b3IucG9sbCgpO1xuICAgIGlmIChyZXNwKSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5tb2RlbC5kZWNvZGVNb25pdG9yKHJlc3ApO1xuICAgICAgcmV0dXJuIG5ldyBBQ1N0YXR1cyh0aGlzLCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEFDU3RhdHVzIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBkZXZpY2U6IEFDRGV2aWNlLFxuICAgIHB1YmxpYyBkYXRhOiBhbnksXG4gICkgeyB9XG5cbiAgcHVibGljIGdldCBjdXJyZW50VGVtcEluQ2Vsc2l1cygpIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuZGF0YS5UZW1wQ3VyKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY3VycmVudFRlbXBJbkZhaHJlbmhlaXQoKSB7XG4gICAgcmV0dXJuIE51bWJlcih0aGlzLmRldmljZS5jMmZbdGhpcy5jdXJyZW50VGVtcEluQ2Vsc2l1c10pO1xuICB9XG5cbiAgcHVibGljIGdldCB0YXJnZXRUZW1wSW5DZWxzaXVzKCkge1xuICAgIHJldHVybiBOdW1iZXIodGhpcy5kYXRhLlRlbXBDZmcpO1xuICB9XG5cbiAgcHVibGljIGdldCB0YXJnZXRUZW1wSW5GYWhyZW5oZWl0KCkge1xuICAgIHJldHVybiBOdW1iZXIodGhpcy5kZXZpY2UuYzJmW3RoaXMudGFyZ2V0VGVtcEluQ2Vsc2l1c10pO1xuICB9XG5cbiAgcHVibGljIGdldCBtb2RlKCkge1xuICAgIGNvbnN0IGtleSA9IGxvb2t1cEVudW0oJ09wTW9kZScsIHRoaXMuZGF0YSwgdGhpcy5kZXZpY2UpO1xuICAgIHJldHVybiBhc0VudW0oQUNNb2RlLCBrZXkpO1xuICB9XG5cbiAgcHVibGljIGdldCBmYW5TcGVlZCgpIHtcbiAgICBjb25zdCBrZXkgPSBsb29rdXBFbnVtKCdXaW5kU3RyZW5ndGgnLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKEFDRmFuU3BlZWQsIGtleSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGhvcml6b250YWxTd2luZygpIHtcbiAgICBjb25zdCBrZXkgPSBsb29rdXBFbnVtKCdXRGlySFN0ZXAnLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKEFDSFN3aW5nTW9kZSwga2V5KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmVydGljYWxTd2luZygpIHtcbiAgICBjb25zdCBrZXkgPSBsb29rdXBFbnVtKCdXRGlyVlN0ZXAnLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKEFDVlN3aW5nTW9kZSwga2V5KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaXNPbigpIHtcbiAgICBjb25zdCBrZXkgPSBsb29rdXBFbnVtKCdPcGVyYXRpb24nLCB0aGlzLmRhdGEsIHRoaXMuZGV2aWNlKTtcbiAgICByZXR1cm4gYXNFbnVtKEFDT3BlcmF0aW9uLCBrZXkpICE9PSBBQ09wZXJhdGlvbi5PRkY7XG4gIH1cbn1cbiJdfQ==